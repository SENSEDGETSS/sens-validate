const errors=[];function Independent_Validation(e){let t=e.target,r=t.value,s=t.getAttribute("data-sensval");if(s&&-1!==s.indexOf("-")){let a=s.split("-");for(let i of a){let l=mainValidation(i,t,r);if(!1===l&&null!==l)break}}else mainValidation(s,t,r)}function validateAll(e){return!!validateFormInputs(e)}function validateFormInputs(e){let t=document.getElementById(e);if(!t)return!1;let r;return t.querySelectorAll("[data-sensval]").forEach(e=>{let t=e.getAttribute("data-sensval"),r=e.value;t.split("-").forEach(t=>{mainValidation(t,e,r)})}),!0}function mainValidation(e,t,r){errors.length=0;let s,[a,i]=e.split("#");switch(a){case"MN":return(s=""!==r.trim())||errors.push("This field is mandatory."),cssValidation(s,t),s;case"EM":if(null!==r&&""!==r.trim())return(s=/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(r))||errors.push("Please enter a valid email address."),cssValidation(s,t),s;break;case"PS":if(null!==r&&""!==r.trim())return(s=/[A-Z]/.test(r)&&/[a-z]/.test(r)&&/[0-9]/.test(r)&&/[!@#$%^&*(),.?":{}|<>]/.test(r)&&r.length>=i)||errors.push("Password must include uppercase, lowercase, numbers, special characters, and be at least "+i+" characters long."),cssValidation(s,t),s;break;case"TX":if(null!==r&&""!==r.trim())return(s=/^[a-zA-Z\s]+$/.test(r))||errors.push("Only alphabetic characters and spaces are allowed in this field."),cssValidation(s,t),s;break;case"NM":if(null!==r&&""!==r.trim())return(s=/^\d+$/.test(r))||errors.push("Please enter only numeric values in this field."),cssValidation(s,t),s;break;case"NL":if(null!==r&&""!==r.trim()){let l=RegExp(`^\\d{${i}}$`);return(s=l.test(r))||errors.push(`Please enter a valid length consisting of exactly ${i} digits.`),cssValidation(s,t),s}break;case"DT":if(null!==r&&""!==r.trim())return(s=!isNaN(Date.parse(r)))||errors.push("Please enter a valid date in the correct format (e.g., YYYY-MM-DD)."),cssValidation(s,t),s;break;case"UL":if(null!==r&&""!==r.trim())return(s=/^(https?:\/\/[^\s$.?#].[^\s]*)$/.test(r))||errors.push("Please enter a valid URL, including the protocol (e.g., https://example.com)."),cssValidation(s,t),s;break;case"ML":if(null!==r&&""!==r.trim())return(s=r.length>=i)||errors.push(`This field requires a minimum of ${i} characters.`),cssValidation(s,t),s;break;case"XL":if(null!==r&&""!==r.trim())return(s=r.length<=i)||errors.push(`This field must not exceed ${i} characters in length.`),cssValidation(s,t),s;break;case"FT":if(null!==r&&""!==r.trim()){let n=i.split(",").map(e=>e.trim()).join("|"),o=RegExp(`\\.(${n})$`,"i");return(s=o.test(r))||errors.push(`Please upload a file with one of the following acceptable extensions: ${i}.`),cssValidation(s,t),s}break;case"CR":return(s=t.checked)||errors.push("Please select this checkbox to proceed."),cssValidation(s,t),s;case"SO":return(s=t.selectedIndex>0)||errors.push("Please select an option from the dropdown menu."),cssValidation(s,t),s;case"IP":if(null!==r&&""!==r.trim())return(s=/^(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)\.(25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)$/.test(r))||errors.push("Please enter a valid IP address in the format: xxx.xxx.xxx.xxx."),cssValidation(s,t),s;break;case"DB":if(null!==r&&""!==r.trim()){let u=new Date,c=new Date(r);return(s=c<u)||errors.push("Please enter a valid date of birth in the format: YYYY-MM-DD."),cssValidation(s,t),s}break;case"AN":if(null!==r&&""!==r.trim())return(s=/^[a-zA-Z0-9]+$/.test(r))||errors.push("This field can only contain letters and numbers (alphanumeric characters)."),cssValidation(s,t),s;break;case"NS":if(null!==r&&""!==r.trim()){let d="!@#$%^&*()_+[]{}|;:',.<>/?`~\"\\";return(s=!RegExp(`[${d.replace(/[-/\\^$*+?.()|[\]{}]/g,"\\$&")}]`).test(r))||errors.push(`Please enter a value without these special characters: ${d}`),cssValidation(s,t),s}break;case"FL":if(null!==r&&""!==r.trim())return(s=t.files.length<=i)||errors.push(`Please upload no more than ${i} file(s).`),cssValidation(s,t),s;break;case"FS":if(null!==r&&""!==r.trim()){let h=t.files[0]?.size||0;return console.log(i),(s=h<=1048576*i)||errors.push(`File size must be less than ${i} MB.`),cssValidation(s,t),s}break;case"MR":if(null!==r&&""!==r.trim())return(s=parseFloat(r)>=i)||errors.push(`The value must be greater than or equal to ${i}.`),cssValidation(s,t),s;break;case"XR":if(null!==r&&""!==r.trim())return(s=parseFloat(r)<=i)||errors.push(`The value must be less than or equal to ${i}.`),cssValidation(s,t),s;break;case"SN":if(null!==r&&""!==r.trim()){let m=RegExp(`(\\d)\\1{${i-1}}`);return(s=!m.test(r))||errors.push(`This field must not contain ${i} or more consecutive digits.`),cssValidation(s,t),s}break;case"RC":if(null!==r&&""!==r.trim()){let p=RegExp(`(.)\\1{${i-1}}`);return(s=!p.test(r))||errors.push(`This field must not contain ${i} or more consecutive repeating characters.`),cssValidation(s,t),s}break;case"CD":if(null!==r&&""!==r.trim()){let f=new Date;f.setHours(0,0,0,0);let b=new Date(r);return alert(b),(s=b>=f)||errors.push("Please enter a date that is current or in the future."),cssValidation(s,t),s}break;case"CE":if(null!==r&&""!==r.trim())return(s=""!==r)||errors.push("*Please enter a valid value."),cssValidation(s,t),s;break;default:s=!0}}function cssValidation(e,t,r=""){let s=t.parentNode.querySelector(".error-message");e?(t.style.border="1px solid blue",s&&s.remove()):(t.style.border="1px solid red",s||((s=document.createElement("small")).className="error-message",s.style.color="red",s.style.display="block",s.style.fontWeight="bold",t.parentNode.appendChild(s)),s.textContent=errors[0])}document.addEventListener("keyup",function(e){Independent_Validation(e)}),document.addEventListener("change",function(e){(["checkbox","radio","date","file","time","datetime-local","number"].includes(e.target.type)||"select"===e.target.tagName.toLowerCase())&&Independent_Validation(e)});